!function(t,e){function n(e){var n,a=t.data(e),i=a._getLinks||(n={s:[],t:[]},a._getLinks=function(){return n});return i()}function a(t,e,n){e.bind(t.nodeType?"change":l,n)}function i(t,e,n){e.unbind(t.nodeType?"change":l,n)}function r(e,n,a,i){var r,s,c,h=e.target,u=e.type===l;if(u?(c=n,e.namespace&&(c+="."+e.namespace)):c=h.name||h.id,i){var o=i[c];if(!o)return null;r=o.name,s=o.convert,"string"==typeof s&&(s=t.convertFn[s])}else r=c;return{name:r,convert:s,value:u?a:t(h).val()}}var s=t.cleanData,c={val:"val",html:"html",text:"text"},h="setField",l="changeField";t.extend({cleanData:function(e){for(var n,a=0;null!=(n=e[a]);a++){var r=t.data(n,"_getLinks");if(r){r=r();var c=t(n);t.each(r.s,function(){i(n,c,this.handler),this.handlerRev&&i(this.target,t(this.target),this.handlerRev)}),t.each(r.t,function(){i(this.source,t(this.source),this.handler),this.handlerRev&&i(n,c,this.handlerRev)}),r.s=[],r.t=[]}}s(e)},convertFn:{"!":function(t){return!t}},setField:function(n,a,i){if(n.nodeType){var r=c[a]||"attr";t(n)[r](i)}else{var s=a.split(".");s[1]=s[1]?"."+s[1]:"";var u=t(n),o=[s[0],i];u.triggerHandler(h,o),i!==e&&(n[a]=i),u.triggerHandler(l,o)}}}),t.extend(t.fn,{link:function(i,s){function c(t){var e="[name="+t+"], [id="+t+"]";return h.filter(e).add(h.find(e))}var h=this;if(!i)return h;"string"==typeof i&&(i=t(i,this.context||null)[0]);var l,u,o=!s,v=function(n,a,s){var c=r(n,a,s,l);if(c){var h=c.name,u=c.value,o=c.convert;o&&(u=o(u,n.target,i)),u!==e&&t.setField(i,h,u)}},f=function(n,a,s){var h=r(n,a,s,u);if(h){var l=h.name,o=h.value,v=h.convert;c(l).each(function(){s=o,v&&(s=v(s,i,this)),s!==e&&t.setField(this,"val",s)})}};return s&&t.each(s,function(e,n){var a,i,r,s=n;t.isPlainObject(n)?(s=n.name||e,a=n.convert,i=n.convertBack,r=n.twoWay!==!1,o|=r):o=r=!0,r&&(u=u||{},u[e]={name:s,convert:i}),l=l||{},l[s]={name:e,convert:a,twoWay:r}}),h.each(function(){a(this,t(this),v);var e={handler:v,handlerRev:o?f:null,target:i,source:this};n(this).s.push(e),i.nodeType&&n(i).t.push(e)}),o&&a(i,t(i),f),t(i).update(),h},unlink:function(e){this.each(function(){for(var a=t(this),r=n(this).s,s=r.length-1;s>=0;s--){var c=r[s];if(c.target===e){i(this,a,c.handler),c.handlerRev&&i(c.target,t(c.target),c.handlerRev),r.splice(s,1);var h=n(c.target).t,l=t.inArray(c,h);-1!==l&&h.splice(l,1)}}})},setField:function(e,n){return this.each(function(){t.setField(this,e,n)})},update:function(){for(item in this[0])!/(jQuery)/.test(item)&&t.setField(this,item,this[0][item])}})}(jQuery);